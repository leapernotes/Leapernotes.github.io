<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>LeaperNotes</title>    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>    <style>        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }        body { display: flex; height: 100vh; background: #121212; color: #fff; overflow: hidden; }        /* Sidebar */        .sidebar { width: 250px; background: #1e1e1e; padding: 10px; display: flex; flex-direction: column; transition: 0.3s; }        .sidebar.hidden { width: 0; padding: 0; overflow: hidden; }        .sidebar-header { text-align: center; font-size: 1.5rem; font-weight: bold; color: #ffcc00; }                .search-bar { width: 100%; padding: 6px; margin: 10px 0; border: none; border-radius: 5px; background: #333; color: #fff; outline: none; }        ul { list-style: none; flex: 1; overflow-y: auto; padding: 5px; }        li { padding: 8px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #333; cursor: pointer; }        li:hover { background: #333; }        .expand-btn { margin-right: 5px; cursor: pointer; font-weight: bold; color: #ffcc00; }        .sub-files { display: none; padding-left: 15px; }        .btn { cursor: pointer; background: #ffcc00; border: none; padding: 6px; margin: 5px 0; width: 100%; font-weight: bold; }        /* Main Content */        .main-content { flex: 1; display: flex; flex-direction: column; }        .navbar { background: #1e1e1e; padding: 10px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #333; }        .nav-btn { background: none; border: none; color: #ffcc00; font-size: 1.2rem; cursor: pointer; padding: 5px; }        .nav-btn:hover { color: #e6b800; }        #editor, #preview { flex: 1; padding: 15px; background: #222; color: white; border: none; resize: none; outline: none; }        #editor { display: block; font-size: 1rem; line-height: 1.5; }        #preview { display: none; overflow-y: auto; padding: 15px; }        .both-mode { display: flex; }        .both-mode #editor, .both-mode #preview { width: 50%; display: block; }        /* Menu */        .menu { display: none; position: absolute; background: #333; padding: 10px; right: 10px; top: 50px; border-radius: 5px; box-shadow: 0 0 10px rgba(255, 255, 255, 0.1); }        .menu.show { display: block; }        .menu button { background: none; border: none; color: #ffcc00; font-size: 1rem; padding: 5px; display: block; width: 100%; text-align: left; }        .menu button:hover { color: #e6b800; }        /* Mobile */        @media (max-width: 768px) {            .sidebar { width: 200px; }            .both-mode { flex-direction: column; }            .both-mode #editor, .both-mode #preview { width: 100%; height: 50%; }        }    </style></head><body>    <!-- Sidebar -->    <div class="sidebar">        <div class="sidebar-header">LeaperNotes</div>        <input type="text" id="search-bar" class="search-bar" placeholder="Search notes..." oninput="searchFiles()">        <ul id="file-list"></ul>        <button class="btn" onclick="newFile()">+ New File</button>    </div>    <!-- Main Content -->    <div class="main-content">        <div class="navbar">            <button class="nav-btn" onclick="toggleSidebar()">☰</button>            <select id="view-mode" onchange="changeViewMode()">                <option value="editor">Editor</option>                <option value="markdown">Markdown</option>                <option value="both">Both</option>            </select>            <button class="nav-btn" onclick="toggleMenu()">⋮</button>            <div id="menu" class="menu">                <button onclick="renameFile()">Rename</button>                <button onclick="deleteFile()">Delete</button>                <label><input type="checkbox" id="autosave-toggle" checked> Autosave</label>            </div>        </div>        <textarea id="editor" oninput="handleChange()"></textarea>        <div id="preview"></div>    </div>    <script>        let files = JSON.parse(localStorage.getItem("files")) || {};        let currentFile = null;        let autosave = document.getElementById("autosave-toggle").checked;        function toggleSidebar() {            document.querySelector(".sidebar").classList.toggle("hidden");        }        function toggleMenu() {            document.getElementById("menu").classList.toggle("show");        }        function updateFileList() {            const list = document.getElementById("file-list");            list.innerHTML = "";            Object.keys(files).forEach(file => {                let li = document.createElement("li");                let hasSubFiles = Object.keys(files).some(f => f.startsWith(file + "/"));                li.innerHTML = `                    ${hasSubFiles ? `<span class="expand-btn" onclick="toggleExpand('${file}')">▶</span>` : ""}                    <span onclick="loadFile('${file}')">${file.split("/").pop()}</span>                                        <ul class="sub-files" id="sub-${file}"></ul>                `;                list.appendChild(li);            });        }        function searchFiles() {            let query = document.getElementById("search-bar").value.toLowerCase();            let listItems = document.querySelectorAll("#file-list li");            listItems.forEach(item => {                let text = item.textContent.toLowerCase();                item.style.display = text.includes(query) ? "flex" : "none";            });        }        function newFile() {            let name = prompt("Enter file name:", "Untitled.md");            if (!name) return;            files[name] = "";            localStorage.setItem("files", JSON.stringify(files));            updateFileList();            loadFile(name);        }        function createSubFile(parent) {            let name = prompt(`Enter sub-file name under ${parent}:`, "NewFile.md");            if (!name) return;            let fullPath = `${parent}/${name}`;            files[fullPath] = "";            localStorage.setItem("files", JSON.stringify(files));            updateFileList();        }        function loadFile(name) {            currentFile = name;            document.getElementById("editor").value = files[name];            updateMarkdown();        }        function deleteFile() {            if (!currentFile || !confirm(`Delete ${currentFile}?`)) return;            delete files[currentFile];            localStorage.setItem("files", JSON.stringify(files));            updateFileList();            currentFile = null;            document.getElementById("editor").value = "";            updateMarkdown();        }        function toggleExpand(file) {            let subList = document.getElementById(`sub-${file}`);            if (subList) subList.style.display = subList.style.display === "none" ? "block" : "none";        }        function handleChange() {            if (autosave) saveFile();            updateMarkdown();        }        function saveFile() {            if (!currentFile) return;            files[currentFile] = document.getElementById("editor").value;            localStorage.setItem("files", JSON.stringify(files));        }        function updateMarkdown() {            document.getElementById("preview").innerHTML = marked.parse(document.getElementById("editor").value);        }        function changeViewMode() {            document.body.classList.toggle("both-mode", document.getElementById("view-mode").value === "both");        }        updateFileList();    </script></body></html>